{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import request from'../libs/request';import List from'../components/List';import SideNav from'../components/SideNav';import SearchBar from'../components/SearchBar';var Articles=function Articles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),opt=_useState4[0],setOpt=_useState4[1];var optHandler=function optHandler(option){setOpt(option);};var submit=function submit(option,input){switch(option){case\"title\":setList(list.filter(function(article){return!article.title.indexOf(input);}));break;case\"content\":setList(list.filter(function(article){return!article.content.indexOf(input);}));break;case\"author\":setList(list.filter(function(article){return!article.author.n_name.indexOf(input);}));break;case\"major\":setList(list.filter(function(article){return!article.major.indexOf(input);}));break;case\"dream\":setList(list.filter(function(article){return!article.dream.indexOf(input);}));break;}};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var articleList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return request.getArticles();case 2:articleList=_context.sent;setList(articleList);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);useEffect(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var articleList;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=opt;_context2.next=_context2.t0===0?3:_context2.t0===1?7:_context2.t0===2?11:15;break;case 3:_context2.next=5;return request.getArticles();case 5:articleList=_context2.sent;return _context2.abrupt(\"break\",18);case 7:_context2.next=9;return request.getArticlesByMajor(window.sessionStorage.getItem('major'));case 9:articleList=_context2.sent;return _context2.abrupt(\"break\",18);case 11:_context2.next=13;return request.getArticlesByDream(window.sessionStorage.getItem('dream'));case 13:articleList=_context2.sent;return _context2.abrupt(\"break\",18);case 15:_context2.next=17;return request.getArticles();case 17:articleList=_context2.sent;case 18:setList(articleList);console.log(articleList);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();},[opt]);return/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(SideNav,{onHandle:optHandler}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-8 col-md-10 mx-auto\",children:[/*#__PURE__*/_jsx(List,{list:list}),/*#__PURE__*/_jsx(SearchBar,{onSubmit:submit})]})]})});};export default Articles;","map":{"version":3,"sources":["/mnt/c/Users/82107/Desktop/study/3-2/웹시설/프로젝트/Dream_Search/frontend/src/pages/Articles.js"],"names":["React","useState","useEffect","request","List","SideNav","SearchBar","Articles","list","setList","opt","setOpt","optHandler","option","submit","input","filter","article","title","indexOf","content","author","n_name","major","dream","fetchData","getArticles","articleList","getArticlesByMajor","window","sessionStorage","getItem","getArticlesByDream","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport request from '../libs/request'\r\nimport List from '../components/List'\r\nimport SideNav from '../components/SideNav'\r\nimport SearchBar from '../components/SearchBar'\r\n\r\nconst Articles = () => {\r\n    const [list, setList] = useState([]);\r\n    const [opt, setOpt] = useState(0);\r\n\r\n    const optHandler = (option) => {\r\n        setOpt(option);\r\n    }\r\n\r\n    const submit = (option, input) => {\r\n        switch(option)\r\n        {\r\n            case \"title\":\r\n                setList(list.filter(article => !article.title.indexOf(input)));\r\n                break;\r\n            case \"content\":\r\n                setList(list.filter(article => !article.content.indexOf(input)));\r\n                break;\r\n            case \"author\":\r\n                setList(list.filter(article => !article.author.n_name.indexOf(input)));\r\n                break;\r\n            case \"major\":\r\n                setList(list.filter(article => !article.major.indexOf(input)));\r\n                break;\r\n            case \"dream\":\r\n                setList(list.filter(article => !article.dream.indexOf(input)));\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            let articleList = await request.getArticles();\r\n            setList(articleList);\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        async function fetchData() {\r\n            let articleList;\r\n            switch(opt)\r\n            {\r\n                case 0:\r\n                    articleList = await request.getArticles();\r\n                    break;\r\n                case 1:\r\n                    articleList = await request.getArticlesByMajor(window.sessionStorage.getItem('major'));\r\n                    break;\r\n                case 2:\r\n                    articleList = await request.getArticlesByDream(window.sessionStorage.getItem('dream'));\r\n                    break;\r\n                default:\r\n                    articleList = await request.getArticles();\r\n            }\r\n            setList(articleList);\r\n            console.log(articleList);\r\n        }\r\n        fetchData();\r\n    }, [opt])\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n\r\n                <SideNav onHandle={optHandler} />\r\n\r\n                <div class=\"col-lg-8 col-md-10 mx-auto\">\r\n\r\n                    <List list={list} />\r\n                    <SearchBar onSubmit={submit}/>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Articles;"]},"metadata":{},"sourceType":"module"}