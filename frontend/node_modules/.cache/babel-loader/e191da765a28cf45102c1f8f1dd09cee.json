{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useRef}from'react';import{withRouter}from'react-router-dom';var LogInForm=function LogInForm(props){var n_name=useRef();var passwd=useRef();var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData={n_name:n_name.current.value,passwd:passwd.current.value};//console.log(formData);\n_context.next=3;return props.onSubmit(formData);case 3:result=_context.sent;console.log(result.session);if(result.fail)window.alert('회원정보가 존재하지않습니다!');else if(!result.session.n_name)window.alert('비밀번호가 일치하지 않습니다!');else{window.sessionStorage.setItem('n_name',result.session.n_name);window.sessionStorage.setItem('major',result.session.major);window.sessionStorage.setItem('dream',result.session.dream);props.onLogIn();props.history.push('/');}case 6:case\"end\":return _context.stop();}}},_callee);}));return function submit(){return _ref.apply(this,arguments);};}();var cancel=function cancel(){props.history.goBack();};return/*#__PURE__*/_jsxs(\"div\",{name:\"sentMessage\",id:\"contactForm\",novalidate:true,children:[/*#__PURE__*/_jsx(\"div\",{class:\"control-group\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nick_Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:n_name,placeholder:\"Nick_Name\",id:\"name\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"control-group\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",ref:passwd,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"p\",{class:\"help-block text-danger\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return submit();},class:\"btn btn-primary\",id:\"sendMessageButton\",children:\"Send\"}),\"\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return cancel();},class:\"btn btn-primary\",id:\"sendMessageButton\",children:\"Cancel\"})]});};export default withRouter(LogInForm);","map":{"version":3,"sources":["/mnt/c/Users/82107/Desktop/study/3-2/웹시설/프로젝트/Dream_Search/frontend/src/components/LogInForm.js"],"names":["React","useRef","withRouter","LogInForm","props","n_name","passwd","submit","formData","current","value","onSubmit","result","console","log","session","fail","window","alert","sessionStorage","setItem","major","dream","onLogIn","history","push","cancel","goBack"],"mappings":"+gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CACzB,GAAMC,CAAAA,MAAM,CAAGJ,MAAM,EAArB,CACA,GAAMK,CAAAA,MAAM,CAAGL,MAAM,EAArB,CAEA,GAAMM,CAAAA,MAAM,0FAAG,uJACLC,QADK,CACM,CACbH,MAAM,CAAEA,MAAM,CAACI,OAAP,CAAeC,KADV,CAEbJ,MAAM,CAAEA,MAAM,CAACG,OAAP,CAAeC,KAFV,CADN,CAKX;AALW,sBAMUN,CAAAA,KAAK,CAACO,QAAN,CAAeH,QAAf,CANV,QAMLI,MANK,eAOXC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAnB,EAEA,GAAGH,MAAM,CAACI,IAAV,CAAgBC,MAAM,CAACC,KAAP,CAAa,iBAAb,EAAhB,IACK,IAAI,CAACN,MAAM,CAACG,OAAP,CAAeV,MAApB,CAA4BY,MAAM,CAACC,KAAP,CAAa,kBAAb,EAA5B,IACA,CACDD,MAAM,CAACE,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAwCR,MAAM,CAACG,OAAP,CAAeV,MAAvD,EACAY,MAAM,CAACE,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAuCR,MAAM,CAACG,OAAP,CAAeM,KAAtD,EACAJ,MAAM,CAACE,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAuCR,MAAM,CAACG,OAAP,CAAeO,KAAtD,EACAlB,KAAK,CAACmB,OAAN,GACAnB,KAAK,CAACoB,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAjBU,sDAAH,kBAANlB,CAAAA,MAAM,0CAAZ,CAmBA,GAAMmB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBtB,KAAK,CAACoB,OAAN,CAAcG,MAAd,GACH,CAFD,CAIA,mBACI,aAAK,IAAI,CAAC,aAAV,CAAwB,EAAE,CAAC,aAA3B,CAAyC,UAAU,KAAnD,wBACI,YAAK,KAAK,CAAC,eAAX,uBACI,aAAK,KAAK,CAAC,+CAAX,wBACI,oCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEtB,MAA7C,CAAqD,WAAW,CAAC,WAAjE,CAA6E,EAAE,CAAC,MAAhF,EAFJ,GADJ,EADJ,cAOI,YAAK,KAAK,CAAC,eAAX,uBACI,aAAK,KAAK,CAAC,+CAAX,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAC,cAA7B,CAA4C,GAAG,CAAEC,MAAjD,CAAyD,WAAW,CAAC,UAArE,EAFJ,cAGI,UAAG,KAAK,CAAC,wBAAT,EAHJ,GADJ,EAPJ,cAcI,aAdJ,cAeI,eAAQ,OAAO,CAAE,yBAAMC,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,CAAyD,EAAE,CAAC,mBAA5D,kBAfJ,iCAiBI,eAAQ,OAAO,CAAE,yBAAMmB,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,CAAyD,EAAE,CAAC,mBAA5D,oBAjBJ,GADJ,CAqBH,CAhDD,CAkDA,cAAexB,CAAAA,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["import React, { useRef } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst LogInForm = (props) => {\r\n    const n_name = useRef();\r\n    const passwd = useRef();\r\n\r\n    const submit = async () => {\r\n        const formData = {\r\n            n_name: n_name.current.value,\r\n            passwd: passwd.current.value,\r\n        }\r\n        //console.log(formData);\r\n        const result = await props.onSubmit(formData);\r\n        console.log(result.session);\r\n\r\n        if(result.fail) window.alert('회원정보가 존재하지않습니다!');\r\n        else if (!result.session.n_name) window.alert('비밀번호가 일치하지 않습니다!');\r\n        else {\r\n            window.sessionStorage.setItem('n_name', result.session.n_name);\r\n            window.sessionStorage.setItem('major', result.session.major);\r\n            window.sessionStorage.setItem('dream', result.session.dream);\r\n            props.onLogIn();\r\n            props.history.push('/');\r\n        }\r\n    }\r\n    const cancel = () => {\r\n        props.history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div name=\"sentMessage\" id=\"contactForm\" novalidate>\r\n            <div class=\"control-group\">\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    <label>Nick_Name</label>\r\n                    <input type=\"text\" class=\"form-control\" ref={n_name} placeholder=\"Nick_Name\" id=\"name\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    <label>Password</label>\r\n                    <input type=\"password\" class=\"form-control\" ref={passwd} placeholder=\"Password\"/>\r\n                    <p class=\"help-block text-danger\"></p>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <button onClick={() => submit()} class=\"btn btn-primary\" id=\"sendMessageButton\">Send</button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <button onClick={() => cancel()} class=\"btn btn-primary\" id=\"sendMessageButton\">Cancel</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(LogInForm);"]},"metadata":{},"sourceType":"module"}