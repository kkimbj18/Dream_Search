{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/frontend/src/components/List.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport Article from './Article';\nimport _ from 'lodash';\n\nconst List = props => {\n  _s();\n\n  const [articles, setArticles] = useState({\n    data: [],\n    pageSize: 5,\n    currentPage: 1\n  });\n  useEffect(() => {\n    async function fetchData() {\n      setArticles({\n        data: props.list\n      });\n    }\n\n    fetchData();\n  }, []);\n  const {\n    data,\n    pageSize,\n    currentPage\n  } = articles;\n  const count = data.length;\n\n  const posting = () => {\n    if (window.sessionStorage.getItem('n_name')) props.history.push('/article/post');else {\n      window.alert('로그인이 필요합니다!');\n      props.history.push('/login');\n    }\n  };\n\n  function paginate(items, pageSize, pageNumber) {\n    console.log(props.list);\n    console.log(items);\n    const startIndex = (pageNumber - 1) * pageSize; // 자를 배열의 시작점\n\n    return _(items).slice(startIndex) // 시작점부터 배열을 자르되\n    .take(pageSize) // pageSize만큼의 배열을 취함\n    .value(); // lodash wrapper 객체를 regular 배열로 변환\n  }\n\n  const handlePageChange = page => {\n    setArticles({ ...articles,\n      currentPage: page\n    });\n  };\n\n  const pagedArticles = paginate(data, pageSize, currentPage);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [pagedArticles.map(article => /*#__PURE__*/_jsxDEV(Article, {\n      article: article\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      div: true,\n      class: \"clearfix\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn btn-primary float-right\",\n        onClick: () => posting(),\n        children: \"Post \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      pageSize: pageSize,\n      itemsCount: count,\n      currentPage: currentPage,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(List, \"uig1kVvjaOOOUFmUjb2kIf3y1gg=\");\n\n_c = List;\nexport default _c2 = withRouter(List);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"List\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/mnt/c/Users/82107/Desktop/study/3-2/웹시설/프로젝트/frontend/src/components/List.js"],"names":["React","useState","useEffect","withRouter","Pagination","Article","_","List","props","articles","setArticles","data","pageSize","currentPage","fetchData","list","count","length","posting","window","sessionStorage","getItem","history","push","alert","paginate","items","pageNumber","console","log","startIndex","slice","take","value","handlePageChange","page","pagedArticles","map","article"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC;AACrCU,IAAAA,IAAI,EAAE,EAD+B;AAErCC,IAAAA,QAAQ,EAAE,CAF2B;AAGrCC,IAAAA,WAAW,EAAE;AAHwB,GAAD,CAAxC;AAKAX,EAAAA,SAAS,CAAC,MAAI;AACV,mBAAeY,SAAf,GAA0B;AAC1BJ,MAAAA,WAAW,CAAC;AAACC,QAAAA,IAAI,EAAEH,KAAK,CAACO;AAAb,OAAD,CAAX;AACC;;AACDD,IAAAA,SAAS;AACZ,GALQ,EAKP,EALO,CAAT;AAMA,QAAM;AAAEH,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA;AAAlB,MAAkCJ,QAAxC;AACA,QAAMO,KAAK,GAAGL,IAAI,CAACM,MAAnB;;AACA,QAAMC,OAAO,GAAG,MAAM;AAClB,QAAIC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAJ,EAA6Cb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,eAAnB,EAA7C,KACK;AACDJ,MAAAA,MAAM,CAACK,KAAP,CAAa,aAAb;AACAhB,MAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH;AACJ,GAND;;AAOA,WAASE,QAAT,CAAkBC,KAAlB,EAAyBd,QAAzB,EAAmCe,UAAnC,EAA+C;AAC3CC,IAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACO,IAAlB;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,UAAMI,UAAU,GAAG,CAACH,UAAU,GAAG,CAAd,IAAmBf,QAAtC,CAH2C,CAGK;;AAEhD,WAAON,CAAC,CAACoB,KAAD,CAAD,CACFK,KADE,CACID,UADJ,EACgB;AADhB,KAEFE,IAFE,CAEGpB,QAFH,EAEa;AAFb,KAGFqB,KAHE,EAAP,CAL2C,CAQ7B;AACjB;;AACD,QAAMC,gBAAgB,GAAIC,IAAD,IAAU;AAC/BzB,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeI,MAAAA,WAAW,EAAEsB;AAA5B,KAAD,CAAX;AACH,GAFD;;AAGA,QAAMC,aAAa,GAAGX,QAAQ,CAACd,IAAD,EAAOC,QAAP,EAAiBC,WAAjB,CAA9B;AACA,sBACI;AAAA,eACKuB,aAAa,CAACC,GAAd,CAAkBC,OAAO,iBACtB,QAAC,OAAD;AAAS,MAAA,OAAO,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YADH,CADL,eAII;AAAK,MAAA,GAAG,MAAR;AAAS,MAAA,KAAK,EAAC,UAAf;AAAA,6BACI;AAAQ,QAAA,KAAK,EAAC,6BAAd;AAA4C,QAAA,OAAO,EAAE,MAAMpB,OAAO,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI,QAAC,UAAD;AACI,MAAA,QAAQ,EAAEN,QADd;AAEI,MAAA,UAAU,EAAEI,KAFhB;AAGI,MAAA,WAAW,EAAEH,WAHjB;AAII,MAAA,YAAY,EAAEqB;AAJlB;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA,kBADJ;AAiBH,CApDD;;GAAM3B,I;;KAAAA,I;AAsDN,qBAAeJ,UAAU,CAACI,IAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pagination from './Pagination'\r\nimport Article from './Article'\r\nimport _ from 'lodash'\r\n\r\nconst List = (props) => {\r\n    const [articles, setArticles] = useState({\r\n        data: [],\r\n        pageSize: 5,\r\n        currentPage: 1\r\n    });\r\n    useEffect(()=>{\r\n        async function fetchData(){\r\n        setArticles({data: props.list});\r\n        }\r\n        fetchData();\r\n    },[])\r\n    const { data, pageSize, currentPage } = articles;\r\n    const count = data.length;\r\n    const posting = () => {\r\n        if (window.sessionStorage.getItem('n_name')) props.history.push('/article/post');\r\n        else {\r\n            window.alert('로그인이 필요합니다!');\r\n            props.history.push('/login');\r\n        }\r\n    }\r\n    function paginate(items, pageSize, pageNumber) {\r\n        console.log(props.list);\r\n        console.log(items);\r\n        const startIndex = (pageNumber - 1) * pageSize; // 자를 배열의 시작점\r\n\r\n        return _(items)\r\n            .slice(startIndex) // 시작점부터 배열을 자르되\r\n            .take(pageSize) // pageSize만큼의 배열을 취함\r\n            .value(); // lodash wrapper 객체를 regular 배열로 변환\r\n    }\r\n    const handlePageChange = (page) => {\r\n        setArticles({ ...articles, currentPage: page });\r\n    };\r\n    const pagedArticles = paginate(data, pageSize, currentPage);\r\n    return (\r\n        <>\r\n            {pagedArticles.map(article =>\r\n                <Article article={article} />\r\n            )}\r\n            <div div class=\"clearfix\" >\r\n                <button class=\"btn btn-primary float-right\" onClick={() => posting()}>Post &rarr;</button>\r\n            </div >\r\n            <Pagination\r\n                pageSize={pageSize}\r\n                itemsCount={count}\r\n                currentPage={currentPage}\r\n                onPageChange={handlePageChange}\r\n            />\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(List);"]},"metadata":{},"sourceType":"module"}