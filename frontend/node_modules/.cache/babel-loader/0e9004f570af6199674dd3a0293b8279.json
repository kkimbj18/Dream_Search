{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useRef,useEffect}from'react';import{withRouter}from'react-router-dom';import Select from'react-select';var InfoForm=function InfoForm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opt=_useState2[0],setOpt=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),major=_useState4[0],setMajor=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),dream=_useState6[0],setDream=_useState6[1];var name=useRef();var n_name=useRef();var passwd=useRef();var birth=useRef();var region=useRef();var majorOpt=[{value:'Computer Engineering',label:'Computer Engineering'},{value:'Cyber Security',label:'Cyber Security'},{value:'Department of Economics',label:'Department of Economics'}];var dreamOpt=[{value:'Big Data Expert',label:'Big Data Expert'},{value:'Front-end Developer',label:'Front-end Developer'},{value:'Back-end Developer',label:'Back-end Developer'}];var defaultObject=[majorOpt.find(function(major){var _props$info;return major.value===((_props$info=props.info)===null||_props$info===void 0?void 0:_props$info.major);}),dreamOpt.find(function(dream){var _props$info2;return dream.value===((_props$info2=props.info)===null||_props$info2===void 0?void 0:_props$info2.dream);})];useEffect(function(){setMajor(defaultObject[0]);setDream(defaultObject[1]);},[props.info]);useEffect(function(){props.info?setOpt(true):setOpt(false);},[]);var onChangeMajor=function onChangeMajor(e){console.log(e);setMajor(e);};var onChangeDream=function onChangeDream(e){console.log(e);setDream(e);};var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _birth$current$value$,_birth$current$value$2;var birth_y,birth_m,formData,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:birth_y=(_birth$current$value$=birth.current.value.split(\"-\"))===null||_birth$current$value$===void 0?void 0:_birth$current$value$[0];birth_m=(_birth$current$value$2=birth.current.value.split(\"-\"))===null||_birth$current$value$2===void 0?void 0:_birth$current$value$2[1];formData={name:name.current.value,n_name:n_name.current.value,passwd:passwd.current.value,birth_y:birth_y,birth_m:birth_m,region:region.current.value,major:major.value,dream:dream.value};_context.next=5;return props.onSubmit(formData);case 5:result=_context.sent;if(result.success===true&&!props.info)props.history.push('/login');else if(result.success===true&&props.info){window.alert('변경이 완료되었습니다!');}else window.alert('닉네임이 중복되었습니다!');case 7:case\"end\":return _context.stop();}}},_callee);}));return function submit(){return _ref.apply(this,arguments);};}();var cancel=function cancel(){props.history.goBack();};return props.info?/*#__PURE__*/_jsxs(\"div\",{name:\"sentMessage\",id:\"contactForm\",novalidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:name,disabled:opt,value:props.info.name})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nick_Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:n_name,value:props.info.n_name})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",ref:passwd})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Birth\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"month\",class:\"form-control\",ref:birth,disabled:opt,value:props.info.birth_y+\"-\"+props.info.birth_m})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Region\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:region,value:props.info.region})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Major\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(Select,{onChange:onChangeMajor,options:majorOpt,value:major}),/*#__PURE__*/_jsx(\"p\",{class:\"help-block text-danger\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dream\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(Select,{onChange:onChangeDream,options:dreamOpt,value:dream}),/*#__PURE__*/_jsx(\"p\",{class:\"help-block text-danger\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"success\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return submit();},class:\"btn btn-primary\",children:\"Send\"}),\"\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return cancel();},class:\"btn btn-primary\",children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(\"div\",{name:\"sentMessage\",id:\"contactForm\",novalidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group floating-label-form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:name,disabled:opt})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nick_Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group floating-label-form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:n_name})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group floating-label-form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",ref:passwd})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Birth\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group floating-label-form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"month\",class:\"form-control\",ref:birth,disabled:opt})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Region\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group floating-label-form-group controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",ref:region})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Major\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(Select,{onChange:onChangeMajor,options:majorOpt}),/*#__PURE__*/_jsx(\"p\",{class:\"help-block text-danger\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dream\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group floating-label-form-group controls\",children:[/*#__PURE__*/_jsx(Select,{onChange:onChangeDream,options:dreamOpt}),/*#__PURE__*/_jsx(\"p\",{class:\"help-block text-danger\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"success\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return submit();},class:\"btn btn-primary\",children:\"Send\"}),\"\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return cancel();},class:\"btn btn-primary\",children:\"Cancel\"})]});};export default withRouter(InfoForm);","map":{"version":3,"sources":["/mnt/c/Users/82107/Desktop/study/3-2/웹시설/프로젝트/Dream_Search/frontend/src/components/InfoForm.js"],"names":["React","useState","useRef","useEffect","withRouter","Select","InfoForm","props","opt","setOpt","major","setMajor","dream","setDream","name","n_name","passwd","birth","region","majorOpt","value","label","dreamOpt","defaultObject","find","info","onChangeMajor","e","console","log","onChangeDream","submit","birth_y","current","split","birth_m","formData","onSubmit","result","success","history","push","window","alert","cancel","goBack"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,eACFN,QAAQ,CAAC,KAAD,CADN,wCACjBO,GADiB,eACZC,MADY,8BAEER,QAAQ,EAFV,yCAEjBS,KAFiB,eAEVC,QAFU,8BAGEV,QAAQ,EAHV,yCAGjBW,KAHiB,eAGVC,QAHU,eAIxB,GAAMC,CAAAA,IAAI,CAAGZ,MAAM,EAAnB,CACA,GAAMa,CAAAA,MAAM,CAAGb,MAAM,EAArB,CACA,GAAMc,CAAAA,MAAM,CAAGd,MAAM,EAArB,CACA,GAAMe,CAAAA,KAAK,CAAGf,MAAM,EAApB,CACA,GAAMgB,CAAAA,MAAM,CAAGhB,MAAM,EAArB,CAEA,GAAMiB,CAAAA,QAAQ,CAAG,CACb,CAAEC,KAAK,CAAE,sBAAT,CAAiCC,KAAK,CAAE,sBAAxC,CADa,CAEb,CAAED,KAAK,CAAE,gBAAT,CAA2BC,KAAK,CAAE,gBAAlC,CAFa,CAGb,CAAED,KAAK,CAAE,yBAAT,CAAoCC,KAAK,CAAE,yBAA3C,CAHa,CAAjB,CAMA,GAAMC,CAAAA,QAAQ,CAAG,CACb,CAAEF,KAAK,CAAE,iBAAT,CAA4BC,KAAK,CAAE,iBAAnC,CADa,CAEb,CAAED,KAAK,CAAE,qBAAT,CAAgCC,KAAK,CAAE,qBAAvC,CAFa,CAGb,CAAED,KAAK,CAAE,oBAAT,CAA+BC,KAAK,CAAE,oBAAtC,CAHa,CAAjB,CAMA,GAAME,CAAAA,aAAa,CAAG,CAACJ,QAAQ,CAACK,IAAT,CAAc,SAAAd,KAAK,wBAAIA,CAAAA,KAAK,CAACU,KAAN,iBAAgBb,KAAK,CAACkB,IAAtB,sCAAgB,YAAYf,KAA5B,CAAJ,EAAnB,CAAD,CAClBY,QAAQ,CAACE,IAAT,CAAc,SAAAZ,KAAK,yBAAIA,CAAAA,KAAK,CAACQ,KAAN,kBAAgBb,KAAK,CAACkB,IAAtB,uCAAgB,aAAYb,KAA5B,CAAJ,EAAnB,CADkB,CAAtB,CAGAT,SAAS,CAAC,UAAI,CACVQ,QAAQ,CAACY,aAAa,CAAC,CAAD,CAAd,CAAR,CACAV,QAAQ,CAACU,aAAa,CAAC,CAAD,CAAd,CAAR,CACH,CAHQ,CAGP,CAAChB,KAAK,CAACkB,IAAP,CAHO,CAAT,CAKAtB,SAAS,CAAC,UAAI,CACVI,KAAK,CAACkB,IAAN,CACIhB,MAAM,CAAC,IAAD,CADV,CAGIA,MAAM,CAAC,KAAD,CAHV,CAIH,CALQ,CAKP,EALO,CAAT,CAOA,GAAMiB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAhB,QAAQ,CAACgB,CAAD,CAAR,CACH,CAHD,CAIA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACH,CAAD,CAAO,CACzBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAd,QAAQ,CAACc,CAAD,CAAR,CACH,CAHD,CAKA,GAAMI,CAAAA,MAAM,0FAAG,wNACLC,OADK,wBACKf,KAAK,CAACgB,OAAN,CAAcb,KAAd,CAAoBc,KAApB,CAA0B,GAA1B,CADL,gDACK,sBAAiC,CAAjC,CADL,CAELC,OAFK,yBAEKlB,KAAK,CAACgB,OAAN,CAAcb,KAAd,CAAoBc,KAApB,CAA0B,GAA1B,CAFL,iDAEK,uBAAiC,CAAjC,CAFL,CAILE,QAJK,CAIM,CACbtB,IAAI,CAAEA,IAAI,CAACmB,OAAL,CAAab,KADN,CAEbL,MAAM,CAAEA,MAAM,CAACkB,OAAP,CAAeb,KAFV,CAGbJ,MAAM,CAAEA,MAAM,CAACiB,OAAP,CAAeb,KAHV,CAIbY,OAAO,CAAEA,OAJI,CAKbG,OAAO,CAAEA,OALI,CAMbjB,MAAM,CAAEA,MAAM,CAACe,OAAP,CAAeb,KANV,CAObV,KAAK,CAAEA,KAAK,CAACU,KAPA,CAQbR,KAAK,CAAEA,KAAK,CAACQ,KARA,CAJN,uBAcUb,CAAAA,KAAK,CAAC8B,QAAN,CAAeD,QAAf,CAdV,QAcLE,MAdK,eAgBX,GAAIA,MAAM,CAACC,OAAP,GAAmB,IAAnB,EAA2B,CAAChC,KAAK,CAACkB,IAAtC,CAA4ClB,KAAK,CAACiC,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EAA5C,IACK,IAAGH,MAAM,CAACC,OAAP,GAAmB,IAAnB,EAA2BhC,KAAK,CAACkB,IAApC,CAA0C,CAC3CiB,MAAM,CAACC,KAAP,CAAa,cAAb,EACH,CAFI,IAGAD,CAAAA,MAAM,CAACC,KAAP,CAAa,eAAb,EApBM,sDAAH,kBAANZ,CAAAA,MAAM,0CAAZ,CAsBA,GAAMa,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBrC,KAAK,CAACiC,OAAN,CAAcK,MAAd,GACH,CAFD,CAIA,MACItC,CAAAA,KAAK,CAACkB,IAAN,cAEA,aAAK,IAAI,CAAC,aAAV,CAAwB,EAAE,CAAC,aAA3B,CAAyC,UAAU,KAAnD,wBACI,aAAK,KAAK,CAAC,eAAX,wBACA,+BADA,cAEI,YAAK,KAAK,CAAC,qBAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEX,IAA7C,CAAmD,QAAQ,CAAEN,GAA7D,CAAkE,KAAK,CAAED,KAAK,CAACkB,IAAN,CAAWX,IAApF,EAFJ,EAFJ,GADJ,cAQI,aAAK,KAAK,CAAC,eAAX,wBACA,oCADA,cAEI,YAAK,KAAK,CAAC,qBAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEC,MAA7C,CAAqD,KAAK,CAAER,KAAK,CAACkB,IAAN,CAAWV,MAAvE,EAFJ,EAFJ,GARJ,cAeI,aAAK,KAAK,CAAC,eAAX,wBACA,mCADA,cAEI,YAAK,KAAK,CAAC,qBAAX,uBAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAC,cAA7B,CAA4C,GAAG,CAAEC,MAAjD,EAFJ,EAFJ,GAfJ,cAsBI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,YAAK,KAAK,CAAC,qBAAX,uBAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,cAA1B,CAAyC,GAAG,CAAEC,KAA9C,CAAqD,QAAQ,CAAET,GAA/D,CAAoE,KAAK,CAAED,KAAK,CAACkB,IAAN,CAAWO,OAAX,CAAmB,GAAnB,CAAuBzB,KAAK,CAACkB,IAAN,CAAWU,OAA7G,EAFJ,EAFJ,GAtBJ,cA6BI,aAAK,KAAK,CAAC,eAAX,wBACA,iCADA,cAEI,YAAK,KAAK,CAAC,qBAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEjB,MAA7C,CAAqD,KAAK,CAAEX,KAAK,CAACkB,IAAN,CAAWP,MAAvE,EAFJ,EAFJ,GA7BJ,cAoCI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,aAAK,KAAK,CAAC,+CAAX,wBAEI,KAAC,MAAD,EAAQ,QAAQ,CAAEQ,aAAlB,CAAiC,OAAO,CAAEP,QAA1C,CAAoD,KAAK,CAAET,KAA3D,EAFJ,cAGI,UAAG,KAAK,CAAC,wBAAT,EAHJ,GAFJ,GApCJ,cA4CI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,aAAK,KAAK,CAAC,+CAAX,wBAEI,KAAC,MAAD,EAAQ,QAAQ,CAAEoB,aAAlB,CAAiC,OAAO,CAAER,QAA1C,CAAoD,KAAK,CAAEV,KAA3D,EAFJ,cAGI,UAAG,KAAK,CAAC,wBAAT,EAHJ,GAFJ,GA5CJ,cAoDI,aApDJ,cAqDI,YAAK,EAAE,CAAC,SAAR,EArDJ,cAsDI,eAAQ,OAAO,CAAE,yBAAMmB,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,kBAtDJ,iCAwDI,eAAQ,OAAO,CAAE,yBAAMa,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,oBAxDJ,GAFA,cA8DA,aAAK,IAAI,CAAC,aAAV,CAAwB,EAAE,CAAC,aAA3B,CAAyC,UAAU,KAAnD,wBACI,aAAK,KAAK,CAAC,eAAX,wBACA,+BADA,cAEI,YAAK,KAAK,CAAC,+CAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAE9B,IAA7C,CAAmD,QAAQ,CAAEN,GAA7D,EAFJ,EAFJ,GADJ,cAQI,aAAK,KAAK,CAAC,eAAX,wBACA,oCADA,cAEI,YAAK,KAAK,CAAC,+CAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEO,MAA7C,EAFJ,EAFJ,GARJ,cAeI,aAAK,KAAK,CAAC,eAAX,wBACA,mCADA,cAEI,YAAK,KAAK,CAAC,+CAAX,uBAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAC,cAA7B,CAA4C,GAAG,CAAEC,MAAjD,EAFJ,EAFJ,GAfJ,cAsBI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,YAAK,KAAK,CAAC,+CAAX,uBAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,cAA1B,CAAyC,GAAG,CAAEC,KAA9C,CAAqD,QAAQ,CAAET,GAA/D,EAFJ,EAFJ,GAtBJ,cA6BI,aAAK,KAAK,CAAC,eAAX,wBACA,iCADA,cAEI,YAAK,KAAK,CAAC,+CAAX,uBAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,GAAG,CAAEU,MAA7C,EAFJ,EAFJ,GA7BJ,cAoCI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,aAAK,KAAK,CAAC,+CAAX,wBAEI,KAAC,MAAD,EAAQ,QAAQ,CAAEQ,aAAlB,CAAiC,OAAO,CAAEP,QAA1C,EAFJ,cAGI,UAAG,KAAK,CAAC,wBAAT,EAHJ,GAFJ,GApCJ,cA4CI,aAAK,KAAK,CAAC,eAAX,wBACA,gCADA,cAEI,aAAK,KAAK,CAAC,+CAAX,wBAEI,KAAC,MAAD,EAAQ,QAAQ,CAAEW,aAAlB,CAAiC,OAAO,CAAER,QAA1C,EAFJ,cAGI,UAAG,KAAK,CAAC,wBAAT,EAHJ,GAFJ,GA5CJ,cAoDI,aApDJ,cAqDI,YAAK,EAAE,CAAC,SAAR,EArDJ,cAsDI,eAAQ,OAAO,CAAE,yBAAMS,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,kBAtDJ,iCAwDI,eAAQ,OAAO,CAAE,yBAAMa,CAAAA,MAAM,EAAZ,EAAjB,CAAiC,KAAK,CAAC,iBAAvC,oBAxDJ,GA/DJ,CA0HH,CAlMD,CAoMA,cAAexC,CAAAA,UAAU,CAACE,QAAD,CAAzB","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Select from 'react-select'\r\n\r\nconst InfoForm = (props) => {\r\n    const [opt, setOpt] = useState(false);\r\n    const [major, setMajor] = useState();\r\n    const [dream, setDream] = useState();\r\n    const name = useRef();\r\n    const n_name = useRef();\r\n    const passwd = useRef();\r\n    const birth = useRef();\r\n    const region = useRef();\r\n\r\n    const majorOpt = [\r\n        { value: 'Computer Engineering', label: 'Computer Engineering' },\r\n        { value: 'Cyber Security', label: 'Cyber Security' },\r\n        { value: 'Department of Economics', label: 'Department of Economics' },\r\n    ]\r\n\r\n    const dreamOpt = [\r\n        { value: 'Big Data Expert', label: 'Big Data Expert' },\r\n        { value: 'Front-end Developer', label: 'Front-end Developer'},\r\n        { value: 'Back-end Developer', label: 'Back-end Developer' }\r\n    ]\r\n\r\n    const defaultObject = [majorOpt.find(major => major.value === props.info?.major),\r\n        dreamOpt.find(dream => dream.value === props.info?.dream)];\r\n\r\n    useEffect(()=>{\r\n        setMajor(defaultObject[0]);\r\n        setDream(defaultObject[1]);\r\n    },[props.info])\r\n\r\n    useEffect(()=>{\r\n        props.info?\r\n            setOpt(true)\r\n            :\r\n            setOpt(false)\r\n    },[])\r\n\r\n    const onChangeMajor = (e) => {\r\n        console.log(e);\r\n        setMajor(e);\r\n    }\r\n    const onChangeDream = (e) => {\r\n        console.log(e);\r\n        setDream(e);\r\n    }\r\n\r\n    const submit = async () => {\r\n        const birth_y = birth.current.value.split(\"-\")?.[0];\r\n        const birth_m = birth.current.value.split(\"-\")?.[1];\r\n\r\n        const formData = {\r\n            name: name.current.value,\r\n            n_name: n_name.current.value,\r\n            passwd: passwd.current.value,\r\n            birth_y: birth_y,\r\n            birth_m: birth_m,\r\n            region: region.current.value,\r\n            major: major.value,\r\n            dream: dream.value\r\n        }\r\n        const result = await props.onSubmit(formData);\r\n\r\n        if (result.success === true && !props.info) props.history.push('/login');\r\n        else if(result.success === true && props.info) {\r\n            window.alert('변경이 완료되었습니다!');\r\n        }\r\n        else window.alert('닉네임이 중복되었습니다!');\r\n    }\r\n    const cancel = () => {\r\n        props.history.goBack();\r\n    }\r\n\r\n    return (\r\n        props.info ?\r\n        \r\n        <div name=\"sentMessage\" id=\"contactForm\" novalidate>    \r\n            <div class=\"control-group\">\r\n            <label>Name</label>\r\n                <div class=\"form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={name} disabled={opt} value={props.info.name}  />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Nick_Name</label>\r\n                <div class=\"form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={n_name} value={props.info.n_name}/>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Password</label>\r\n                <div class=\"form-group controls\">\r\n                    \r\n                    <input type=\"password\" class=\"form-control\" ref={passwd}/>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Birth</label>\r\n                <div class=\"form-group controls\">\r\n                    \r\n                    <input type=\"month\" class=\"form-control\" ref={birth} disabled={opt} value={props.info.birth_y+\"-\"+props.info.birth_m}/>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Region</label>\r\n                <div class=\"form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={region} value={props.info.region}/>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Major</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <Select onChange={onChangeMajor} options={majorOpt} value={major}/>\r\n                    <p class=\"help-block text-danger\"></p>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Dream</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <Select onChange={onChangeDream} options={dreamOpt} value={dream}/>\r\n                    <p class=\"help-block text-danger\"></p>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <div id=\"success\"></div>\r\n            <button onClick={() => submit()} class=\"btn btn-primary\">Send</button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <button onClick={() => cancel()} class=\"btn btn-primary\">Cancel</button>\r\n        </div>\r\n            :\r\n\r\n        <div name=\"sentMessage\" id=\"contactForm\" novalidate>\r\n            <div class=\"control-group\">\r\n            <label>Name</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={name} disabled={opt}  />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Nick_Name</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={n_name} />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Password</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <input type=\"password\" class=\"form-control\" ref={passwd} />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Birth</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <input type=\"month\" class=\"form-control\" ref={birth} disabled={opt} />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Region</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <input type=\"text\" class=\"form-control\" ref={region} />\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Major</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <Select onChange={onChangeMajor} options={majorOpt}/>\r\n                    <p class=\"help-block text-danger\"></p>\r\n                </div>\r\n            </div>\r\n            <div class=\"control-group\">\r\n            <label>Dream</label>\r\n                <div class=\"form-group floating-label-form-group controls\">\r\n                    \r\n                    <Select onChange={onChangeDream} options={dreamOpt}/>\r\n                    <p class=\"help-block text-danger\"></p>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <div id=\"success\"></div>\r\n            <button onClick={() => submit()} class=\"btn btn-primary\">Send</button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <button onClick={() => cancel()} class=\"btn btn-primary\">Cancel</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(InfoForm);"]},"metadata":{},"sourceType":"module"}