{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/mnt/c/Users/82107/Desktop/study/3-2/\\uC6F9\\uC2DC\\uC124/\\uD504\\uB85C\\uC81D\\uD2B8/Dream_Search/frontend/src/components/List.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport Article from './Article';\nimport _ from 'lodash';\n\nconst List = props => {\n  _s();\n\n  const [articles, setArticles] = useState({\n    pageSize: 5,\n    currentPage: 1\n  });\n  const {\n    pageSize,\n    currentPage\n  } = articles;\n  const count = props.list.length;\n\n  const posting = () => {\n    if (window.sessionStorage.getItem('n_name')) props.history.push('/article/post');else {\n      window.alert('로그인이 필요합니다!');\n      props.history.push('/login');\n    }\n  };\n\n  function paginate(pageSize, pageNumber) {\n    const startIndex = (pageNumber - 1) * pageSize; // 자를 배열의 시작점\n\n    return _(props.list).slice(startIndex) // 시작점부터 배열을 자르되\n    .take(pageSize) // pageSize만큼의 배열을 취함\n    .value(); // lodash wrapper 객체를 regular 배열로 변환\n  }\n\n  const handlePageChange = page => {\n    setArticles({ ...articles,\n      currentPage: page\n    });\n  };\n\n  const pagedArticles = paginate(pageSize, currentPage);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [pagedArticles.map(article => /*#__PURE__*/_jsxDEV(Article, {\n      article: article\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-primary float-right\",\n      onClick: () => posting(),\n      children: \"Post \\u2192\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      pageSize: pageSize,\n      itemsCount: count,\n      currentPage: currentPage,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(List, \"W8TiLB7DC/ZvhahCKyCJIg/X7hU=\");\n\n_c = List;\nexport default _c2 = withRouter(List);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"List\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/mnt/c/Users/82107/Desktop/study/3-2/웹시설/프로젝트/Dream_Search/frontend/src/components/List.js"],"names":["React","useState","withRouter","Pagination","Article","_","List","props","articles","setArticles","pageSize","currentPage","count","list","length","posting","window","sessionStorage","getItem","history","push","alert","paginate","pageNumber","startIndex","slice","take","value","handlePageChange","page","pagedArticles","map","article"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC;AACrCS,IAAAA,QAAQ,EAAE,CAD2B;AAErCC,IAAAA,WAAW,EAAE;AAFwB,GAAD,CAAxC;AAIA,QAAM;AAAED,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA4BH,QAAlC;AACA,QAAMI,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAWC,MAAzB;;AACA,QAAMC,OAAO,GAAG,MAAM;AAClB,QAAIC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAJ,EAA6CX,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,eAAnB,EAA7C,KACK;AACDJ,MAAAA,MAAM,CAACK,KAAP,CAAa,aAAb;AACAd,MAAAA,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH;AACJ,GAND;;AAOA,WAASE,QAAT,CAAkBZ,QAAlB,EAA4Ba,UAA5B,EAAwC;AACpC,UAAMC,UAAU,GAAG,CAACD,UAAU,GAAG,CAAd,IAAmBb,QAAtC,CADoC,CACY;;AAEhD,WAAOL,CAAC,CAACE,KAAK,CAACM,IAAP,CAAD,CACFY,KADE,CACID,UADJ,EACgB;AADhB,KAEFE,IAFE,CAEGhB,QAFH,EAEa;AAFb,KAGFiB,KAHE,EAAP,CAHoC,CAMtB;AACjB;;AACD,QAAMC,gBAAgB,GAAIC,IAAD,IAAU;AAC/BpB,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeG,MAAAA,WAAW,EAAEkB;AAA5B,KAAD,CAAX;AACH,GAFD;;AAGA,QAAMC,aAAa,GAAGR,QAAQ,CAACZ,QAAD,EAAWC,WAAX,CAA9B;AACA,sBACI;AAAA,eACKmB,aAAa,CAACC,GAAd,CAAkBC,OAAO,iBACtB,QAAC,OAAD;AAAS,MAAA,OAAO,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YADH,CADL,eAIQ;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,qCAA5B;AAAkE,MAAA,OAAO,EAAE,MAAMjB,OAAO,EAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJR,eAKI,QAAC,UAAD;AACI,MAAA,QAAQ,EAAEL,QADd;AAEI,MAAA,UAAU,EAAEE,KAFhB;AAGI,MAAA,WAAW,EAAED,WAHjB;AAII,MAAA,YAAY,EAAEiB;AAJlB;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA,kBADJ;AAeH,CAzCD;;GAAMtB,I;;KAAAA,I;AA2CN,qBAAeJ,UAAU,CAACI,IAAD,CAAzB","sourcesContent":["import React, { useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pagination from './Pagination'\r\nimport Article from './Article'\r\nimport _ from 'lodash'\r\n\r\nconst List = (props) => {\r\n    const [articles, setArticles] = useState({\r\n        pageSize: 5,\r\n        currentPage: 1\r\n    });\r\n    const { pageSize, currentPage } = articles;\r\n    const count = props.list.length;\r\n    const posting = () => {\r\n        if (window.sessionStorage.getItem('n_name')) props.history.push('/article/post');\r\n        else {\r\n            window.alert('로그인이 필요합니다!');\r\n            props.history.push('/login');\r\n        }\r\n    }\r\n    function paginate(pageSize, pageNumber) {\r\n        const startIndex = (pageNumber - 1) * pageSize; // 자를 배열의 시작점\r\n\r\n        return _(props.list)\r\n            .slice(startIndex) // 시작점부터 배열을 자르되\r\n            .take(pageSize) // pageSize만큼의 배열을 취함\r\n            .value(); // lodash wrapper 객체를 regular 배열로 변환\r\n    }\r\n    const handlePageChange = (page) => {\r\n        setArticles({ ...articles, currentPage: page });\r\n    };\r\n    const pagedArticles = paginate(pageSize, currentPage);\r\n    return (\r\n        <>\r\n            {pagedArticles.map(article =>\r\n                <Article article={article} />\r\n            )}\r\n                <button type=\"button\" class=\"btn btn-outline-primary float-right\" onClick={() => posting()}>Post &rarr;</button>\r\n            <Pagination\r\n                pageSize={pageSize}\r\n                itemsCount={count}\r\n                currentPage={currentPage}\r\n                onPageChange={handlePageChange}\r\n            />\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(List);"]},"metadata":{},"sourceType":"module"}